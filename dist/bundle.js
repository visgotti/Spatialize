!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1);e.SpatialManager=r.SpatialManager},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),n=i(3),u=i(4),o=i(5),s=function(){function t(t,e,i,r,n){this.width=t,this.height=e,this.areaRects=[],this.buckets=[],this.areaColumns=i,this.areaRows=r,this.bucketSize=n,this.initializeAreaBuckets(),this.initializeViewBuckets(),this.addAreasToBuckets()}return t.prototype.initializeAreaBuckets=function(){for(var t=r.Splitter.splitGridIntoRects(0,0,this.width,this.height,this.areaColumns,this.areaRows,!0),e=0;e<t.length;e++)this.areaRects.push(new n.AreaRect(e,t[e]))},t.prototype.initializeViewBuckets=function(){this.bucketColumns=Math.ceil(this.width/this.bucketSize),this.bucketRows=Math.ceil(this.height/this.bucketSize);for(var t=r.Splitter.splitGridIntoRectsByCellSize(0,0,this.width,this.height,this.bucketSize),e=0;e<t.length;e++)this.buckets[e]=new u.Bucket(e,t[e])},t.prototype.addAreasToBuckets=function(){for(var t=0;t<this.areaRects.length;t++)for(var e=0;e<this.buckets.length;e++)o.rectsColliding(this.areaRects[t].rect,this.buckets[e].rect)&&(this.buckets[e].addAreaIndex(t),this.areaRects[t].addBucket(this.buckets[e]))},t.prototype.getAreaRects=function(){return this.areaRects},t.prototype.getBuckets=function(){return this.buckets},t}();e.SpatialManager=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.splitGridIntoRects=function(t,e,i,r,n,u,o){void 0===o&&(o=!0);for(var s=this.getLineSections(e,r,u,o),c=this.getLineSections(t,i,n,o),a=[],h=0;h<s.length;h++)for(var l=s[h].start,f=s[h].length,d=0;d<c.length;d++){var p={x:c[d].start,width:c[d].length,y:l,height:f};a.push(p)}return a},t.splitGridIntoRectsByCellSize=function(t,e,i,r,n){for(var u=Math.ceil(r/n),o=Math.ceil(i/n),s=t,c=e,a=[],h=0;h<u;h++)for(var l=0;l<o;l++){var f={x:s,y:c,width:n,height:n};a.push(f),s/n>=o-1?(s=t,c+=n):s+=n}return a},t.getLineSections=function(t,e,i,r){void 0===r&&(r=!0);var n=e/i,u=[];if(!r||Number.isInteger(n))for(var o=i;o>0;o--){var s={start:t,length:n};u.push(s),t+=n}else{var c=Math.floor(n),a=e-c*(i-1);for(o=i;o>0;o--){s={start:t,length:n=1===o?a:c};u.push(s),t+=c}}return u},t}();e.Splitter=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.areaIndex=t,this.rect=e,this.buckets=[]}return t.prototype.addBucket=function(t){this.buckets.push(t)},t.prototype.getBuckets=function(){return this.buckets},t.prototype.getEntities=function(){},t}();e.AreaRect=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.index=t,this.rect=e,this.areaIndexes=[]}return t.prototype.getRect=function(){return this.rect},t.prototype.addAreaIndex=function(t){this.areaIndexes.push(t)},t.prototype.clear=function(){this.clientRects.clear(),this.entityRects.clear()},t}();e.Bucket=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rectsColliding=function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.height+t.y>e.y}}]);